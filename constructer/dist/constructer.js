!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Constructer=e():t.Constructer=e()}(this,()=>(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.d(e,{default:()=>bt});var n={};t.r(n),t.d(n,{addLayer:()=>f,clearScenes:()=>y,createScene:()=>h,getAllScenes:()=>p,getScene:()=>m,removeScene:()=>g});var r={};t.r(r),t.d(r,{createBlur:()=>x,createDefs:()=>E,createFilter:()=>$,createGroup:()=>A,createLinearGradient:()=>S,createPath:()=>w,createSVG:()=>b});var o={};t.r(o),t.d(o,{addStep:()=>T,applyAnimation:()=>P,createSequence:()=>M,generateKeyframes:()=>C,getSequence:()=>D,injectKeyframes:()=>L});var i={};t.r(i),t.d(i,{addFilterToSVG:()=>_,applyFilter:()=>G,blur:()=>F,colorMatrix:()=>z,dropShadow:()=>k,glow:()=>q,matrices:()=>B});var s={};t.r(s),t.d(s,{Events:()=>W,clear:()=>K,emit:()=>Z,off:()=>Y,on:()=>H,once:()=>V});var a={};t.r(a),t.d(a,{morph:()=>et,morphLoop:()=>nt});var c={};t.r(c),t.d(c,{observe:()=>rt,parallax:()=>it,scrollAnimate:()=>ot});var u={};t.r(u),t.d(u,{animateTextPath:()=>ut,circularText:()=>lt,createTextPath:()=>ct,wavyText:()=>dt});var l={};t.r(l),t.d(l,{fluidDrag:()=>ft,trackInput:()=>ht});const d=new Map;function h(t){const e=t.dataset.cScene||`scene-${d.size}`,n={id:e,container:t,layers:[]};return d.set(e,n),n}function f(t,e,n=0){const r={id:`${t.id}-layer-${t.layers.length}`,zIndex:n,element:e};return e.style.position="absolute",e.style.zIndex=String(n),t.layers.push(r),t.layers.sort((t,e)=>t.zIndex-e.zIndex),t.container.appendChild(e),r}function m(t){return d.get(t)}function p(){return Array.from(d.values())}function g(t){const e=d.get(t);return!!e&&(e.layers.forEach(t=>t.element.remove()),d.delete(t),!0)}function y(){d.forEach(t=>{t.layers.forEach(t=>t.element.remove())}),d.clear()}const v="http://www.w3.org/2000/svg";function b(t,e){const n=document.createElementNS(v,"svg");return n.setAttribute("width",String(t)),n.setAttribute("height",String(e)),n.setAttribute("viewBox",`0 0 ${t} ${e}`),n}function w(t,e={}){const n=document.createElementNS(v,"path");return n.setAttribute("d",t),e.fill&&n.setAttribute("fill",e.fill),e.stroke&&n.setAttribute("stroke",e.stroke),e.strokeWidth&&n.setAttribute("stroke-width",String(e.strokeWidth)),void 0!==e.opacity&&n.setAttribute("opacity",String(e.opacity)),n}function A(){return document.createElementNS(v,"g")}function E(){return document.createElementNS(v,"defs")}function S(t,e){const n=document.createElementNS(v,"linearGradient");return n.setAttribute("id",t),e.forEach(t=>{const e=document.createElementNS(v,"stop");e.setAttribute("offset",`${t.offset}%`),e.setAttribute("stop-color",t.color),void 0!==t.opacity&&e.setAttribute("stop-opacity",String(t.opacity)),n.appendChild(e)}),n}function $(t){const e=document.createElementNS(v,"filter");return e.setAttribute("id",t),e}function x(t){const e=document.createElementNS(v,"feGaussianBlur");return e.setAttribute("stdDeviation",String(t)),e}const N=new Map;function M(t,e,n="ease"){const r={name:t,duration:e,easing:n,steps:[]};return N.set(t,r),r}function T(t,e,n){t.steps.push({percent:e,properties:n}),t.steps.sort((t,e)=>t.percent-e.percent)}function C(t){const e=t.steps.map(t=>{const e=Object.entries(t.properties).map(([t,e])=>{return`${n=t,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}: ${e};`;var n}).join(" ");return`${t.percent}% { ${e} }`}).join("\n  ");return`@keyframes ${t.name} {\n  ${e}\n}`}function L(t){const e=`c-keyframes-${t.name}`;if(document.getElementById(e))return;const n=document.createElement("style");n.id=e,n.textContent=C(t),document.head.appendChild(n)}function P(t,e,n={}){L(e);const{delay:r=0,iterations:o=1,fill:i="forwards"}=n;t.style.animation=`${e.name} ${e.duration}ms ${e.easing} ${r}ms ${o} ${i}`}function D(t){return N.get(t)}const I="http://www.w3.org/2000/svg";let O=0;function j(t){const e=document.createElementNS(I,"filter");return e.setAttribute("id",t),e}function F(t){const e="c-blur-"+O++,n=j(e),r=document.createElementNS(I,"feGaussianBlur");return r.setAttribute("stdDeviation",String(t)),r.setAttribute("in","SourceGraphic"),n.appendChild(r),{id:e,filter:n}}function k(t=2,e=2,n=4,r="rgba(0,0,0,0.5)"){const o="c-shadow-"+O++,i=j(o),s=document.createElementNS(I,"feDropShadow");return s.setAttribute("dx",String(t)),s.setAttribute("dy",String(e)),s.setAttribute("stdDeviation",String(n)),s.setAttribute("flood-color",r),i.appendChild(s),{id:o,filter:i}}function q(t=4,e="#fff"){const n="c-glow-"+O++,r=j(n),o=document.createElementNS(I,"feGaussianBlur");o.setAttribute("stdDeviation",String(t)),o.setAttribute("in","SourceGraphic"),o.setAttribute("result","blur"),r.appendChild(o);const i=document.createElementNS(I,"feFlood");i.setAttribute("flood-color",e),i.setAttribute("result","color"),r.appendChild(i);const s=document.createElementNS(I,"feComposite");s.setAttribute("in","color"),s.setAttribute("in2","blur"),s.setAttribute("operator","in"),s.setAttribute("result","glow"),r.appendChild(s);const a=document.createElementNS(I,"feMerge"),c=document.createElementNS(I,"feMergeNode");c.setAttribute("in","glow");const u=document.createElementNS(I,"feMergeNode");return u.setAttribute("in","SourceGraphic"),a.appendChild(c),a.appendChild(u),r.appendChild(a),{id:n,filter:r}}function z(t){const e="c-matrix-"+O++,n=j(e),r=document.createElementNS(I,"feColorMatrix");return r.setAttribute("type","matrix"),r.setAttribute("values",t.join(" ")),n.appendChild(r),{id:e,filter:n}}const B={grayscale:[.33,.33,.33,0,0,.33,.33,.33,0,0,.33,.33,.33,0,0,0,0,0,1,0],sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],invert:[-1,0,0,0,1,0,-1,0,0,1,0,0,-1,0,1,0,0,0,1,0]};function G(t,e){t.setAttribute("filter",`url(#${e})`)}function _(t,e){const n=function(t){let e=t.querySelector("defs");return e||(e=document.createElementNS(I,"defs"),t.prepend(e)),e}(t);n.appendChild(e)}const R=new Map;function H(t,e){R.has(t)||R.set(t,new Set),R.get(t).add(e)}function Y(t,e){R.get(t)?.delete(e)}function Z(t,...e){R.get(t)?.forEach(t=>t(...e))}function V(t,e){const n=(...r)=>{Y(t,n),e(...r)};H(t,n)}function K(t){t?R.delete(t):R.clear()}const W={SCENE_CREATED:"scene:created",SCENE_DESTROYED:"scene:destroyed",LAYER_ADDED:"layer:added",ANIMATION_START:"animation:start",ANIMATION_END:"animation:end",TIMELINE_PLAY:"timeline:play",TIMELINE_COMPLETE:"timeline:complete"},Q=console.log.bind(console),U=console.warn.bind(console),X=(console.error.bind(console),console.info.bind(console),(...t)=>{Q(...t)}),J=(...t)=>{U(...t)};function tt(t,e=100){const n=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d",t),n.appendChild(r),n.style.position="absolute",n.style.visibility="hidden",document.body.appendChild(n);const o=[],i=r.getTotalLength();for(let t=0;t<e;t++){const n=r.getPointAtLength(t/(e-1)*i);o.push({x:n.x,y:n.y})}return document.body.removeChild(n),o}function et(t,e,n,r={}){const{duration:o=500,easing:i="ease-in-out",onUpdate:s,onComplete:a}=r;X("Morph from:",e.substring(0,50)+"..."),X("Morph to:",n.substring(0,50)+"...");const c=tt(e,64),u=tt(n,64);return c.length!==u.length&&J("Point count mismatch after normalization"),new Promise(e=>{const r=performance.now();requestAnimationFrame(function l(d){const h=d-r,f=Math.min(h/o,1),m=function(t,e){switch(e){case"linear":return t;case"ease-in":return t*t;case"ease-out":return 1-(1-t)*(1-t);default:return t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2}}(f,i),p=function(t){if(0===t.length)return"";let e=`M${t[0].x.toFixed(2)} ${t[0].y.toFixed(2)}`;for(let n=1;n<t.length;n++)e+=` L${t[n].x.toFixed(2)} ${t[n].y.toFixed(2)}`;return e+=" Z",e}(function(t,e,n){const r=[],o=Math.min(t.length,e.length);for(let i=0;i<o;i++)r.push({x:t[i].x+(e[i].x-t[i].x)*n,y:t[i].y+(e[i].y-t[i].y)*n});return r}(c,u,m));t.setAttribute("d",p),s?.(m),f<1?requestAnimationFrame(l):(t.setAttribute("d",n),a?.(),e())})})}function nt(t,e,n={}){const{loop:r=!0,pauseBetween:o=500,...i}=n;let s=!0,a=0;return async function(){for(;s;){const n=e[a],s=e[(a+1)%e.length];if(await et(t,n,s,i),o>0&&await new Promise(t=>setTimeout(t,o)),a=(a+1)%e.length,!r&&0===a)break}}(),{stop:()=>{s=!1}}}function rt(t,e={}){const{threshold:n=[0,.25,.5,.75,1],rootMargin:r="0px",onEnter:o,onLeave:i,onProgress:s}=e;let a=!1;const c=new IntersectionObserver(t=>{t.forEach(t=>{const e=t.intersectionRatio;t.isIntersecting&&!a?(X("Scroll: element entered view"),o?.(t),Z("scroll:enter",t)):!t.isIntersecting&&a&&(X("Scroll: element left view"),i?.(t),Z("scroll:leave",t)),a=t.isIntersecting,t.isIntersecting&&(s?.(e,t),Z("scroll:progress",{progress:e,entry:t}))})},{threshold:n,rootMargin:r});return c.observe(t),{destroy:()=>c.disconnect()}}function ot(t,e,n={}){const{start:r="top bottom",end:o="bottom top"}=n;function i(){const n=function(t){const n=Object.keys(e).map(Number).sort((t,e)=>t-e),r={};let o=n[0],i=n[n.length-1];for(let e=0;e<n.length-1;e++)if(t>=n[e]/100&&t<=n[e+1]/100){o=n[e],i=n[e+1];break}const s=e[o],a=e[i],c=(100*t-o)/(i-o||1);return new Set([...Object.keys(s),...Object.keys(a)]).forEach(t=>{const e=s[t]||a[t],n=a[t]||s[t],o=parseFloat(e),i=parseFloat(n);if(isNaN(o)||isNaN(i))r[t]=c<.5?e:n;else{const n=e.replace(/[\d.-]/g,"");r[t]=`${o+(i-o)*c}${n}`}}),r}(function(){const e=t.getBoundingClientRect(),n=window.innerHeight,r=1-(e.top+e.height)/(n+e.height);return Math.max(0,Math.min(1,r))}());Object.entries(n).forEach(([e,n])=>{t.style.setProperty(e.replace(/([A-Z])/g,"-$1").toLowerCase(),n)})}return window.addEventListener("scroll",i,{passive:!0}),window.addEventListener("resize",i,{passive:!0}),i(),{destroy:()=>{window.removeEventListener("scroll",i),window.removeEventListener("resize",i)}}}function it(t,e=.5){function n(){const n=t.getBoundingClientRect(),r=(n.top+n.height/2-window.innerHeight/2)*e;t.style.transform=`translateY(${r}px)`}return window.addEventListener("scroll",n,{passive:!0}),n(),{destroy:()=>{window.removeEventListener("scroll",n),t.style.transform=""}}}const st="http://www.w3.org/2000/svg";let at=0;function ct(t,e,n,r={}){const{fontSize:o="14px",fontFamily:i="inherit",fill:s="#fff",startOffset:a="0%",textAnchor:c="start",letterSpacing:u="normal"}=r,l="c-textpath-"+at++;let d=t.querySelector("defs");d||(d=document.createElementNS(st,"defs"),t.prepend(d));const h=document.createElementNS(st,"path");h.setAttribute("id",l),h.setAttribute("d",e),h.setAttribute("fill","none"),h.setAttribute("stroke","none"),d.appendChild(h);const f=document.createElementNS(st,"text");f.setAttribute("font-size",o),f.setAttribute("font-family",i),f.setAttribute("fill",s),f.setAttribute("letter-spacing",u);const m=document.createElementNS(st,"textPath");return m.setAttribute("href",`#${l}`),m.setAttribute("startOffset",a),m.setAttribute("text-anchor",c),m.textContent=n,f.appendChild(m),t.appendChild(f),{text:f,path:h}}function ut(t,e={}){const{duration:n=5e3,from:r="0%",to:o="100%",loop:i=!0}=e;let s=!0,a=performance.now();return requestAnimationFrame(function e(c){if(!s)return;const u=c-a;let l=u%n/n;if(!i&&u>=n)return void t.setAttribute("startOffset",o);const d=parseFloat(r),h=d+(parseFloat(o)-d)*l;t.setAttribute("startOffset",`${h}%`),requestAnimationFrame(e)}),{stop:()=>{s=!1}}}function lt(t,e,n,r,o,i={}){return ct(t,`M ${n-o} ${r} A ${o} ${o} 0 1 1 ${n+o} ${r} A ${o} ${o} 0 1 1 ${n-o} ${r}`,e,{textAnchor:"middle",startOffset:"25%",...i})}function dt(t,e,n,r,o,i=20,s=2,a={}){const c=[`M${n} ${r}`];for(let t=1;t<=20;t++){const e=n+o/20*t,a=r+Math.sin(t/20*Math.PI*s*2)*i;c.push(`L${e} ${a}`)}return ct(t,c.join(" "),e,a)}function ht(t,e={}){const n={isDragging:!1,start:{x:0,y:0},current:{x:0,y:0},delta:{x:0,y:0},velocity:{x:0,y:0}};let r=0,o={x:0,y:0};function i(e){const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}function s(t){const s=i("touches"in t?t.touches[0]:t);n.isDragging=!0,n.start=s,n.current=s,n.delta={x:0,y:0},n.velocity={x:0,y:0},o=s,r=performance.now(),X("Input drag start:",s),e.onDragStart?.(n),Z("input:dragstart",n)}function a(t){const s=i("touches"in t?t.touches[0]:t),a=performance.now();n.isDragging?(n.current=s,n.delta={x:s.x-n.start.x,y:s.y-n.start.y},function(t,e){const i=e-r;i>0&&(n.velocity={x:(t.x-o.x)/i*16,y:(t.y-o.y)/i*16}),o=t,r=e}(s,a),e.onDrag?.(n),Z("input:drag",n)):(e.onHover?.(s),Z("input:hover",s))}function c(){n.isDragging&&(n.isDragging=!1,X("Input drag end, velocity:",n.velocity),e.onDragEnd?.(n),Z("input:dragend",n))}return t.addEventListener("mousedown",s),window.addEventListener("mousemove",a),window.addEventListener("mouseup",c),t.addEventListener("touchstart",s,{passive:!0}),window.addEventListener("touchmove",a,{passive:!0}),window.addEventListener("touchend",c),{destroy:()=>{t.removeEventListener("mousedown",s),window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",c),t.removeEventListener("touchstart",s),window.removeEventListener("touchmove",a),window.removeEventListener("touchend",c)}}}function ft(t,e={}){const{strength:n=.3,decay:r=.92}=e;t.getAttribute("d");let o={x:0,y:0},i={x:0,y:0},s=!1;function a(){if(s){if(o.x+=i.x,o.y+=i.y,i.x*=r,i.y*=r,o.x*=r,o.y*=r,t.style.transform=`translate(${o.x}px, ${o.y}px)`,Math.abs(i.x)<.01&&Math.abs(i.y)<.01&&Math.abs(o.x)<.01&&Math.abs(o.y)<.01)return t.style.transform="",void(s=!1);requestAnimationFrame(a)}}return ht(t,{onDrag:e=>{o.x=e.delta.x*n,o.y=e.delta.y*n,t.style.transform=`translate(${o.x}px, ${o.y}px)`},onDragEnd:t=>{i.x=t.velocity.x*n*.5,i.y=t.velocity.y*n*.5,s=!0,a()}})}class mt{constructor(){this.commands=[]}moveTo(t,e){return this.commands.push(`M${t} ${e}`),this}lineTo(t,e){return this.commands.push(`L${t} ${e}`),this}horizontalTo(t){return this.commands.push(`H${t}`),this}verticalTo(t){return this.commands.push(`V${t}`),this}curveTo(t,e,n,r,o,i){return this.commands.push(`C${t} ${e} ${n} ${r} ${o} ${i}`),this}smoothCurveTo(t,e,n,r){return this.commands.push(`S${t} ${e} ${n} ${r}`),this}quadraticTo(t,e,n,r){return this.commands.push(`Q${t} ${e} ${n} ${r}`),this}arc(t,e,n,r,o,i,s){return this.commands.push(`A${t} ${e} ${n} ${r?1:0} ${o?1:0} ${i} ${s}`),this}close(){return this.commands.push("Z"),this}polygon(t){if(t.length<3)return this;this.moveTo(t[0][0],t[0][1]);for(let e=1;e<t.length;e++)this.lineTo(t[e][0],t[e][1]);return this.close()}circle(t,e,n){return this.moveTo(t-n,e).arc(n,n,0,!0,!0,t+n,e).arc(n,n,0,!0,!0,t-n,e)}rect(t,e,n,r,o=0){return o>0?this.moveTo(t+o,e).horizontalTo(t+n-o).arc(o,o,0,!1,!0,t+n,e+o).verticalTo(e+r-o).arc(o,o,0,!1,!0,t+n-o,e+r).horizontalTo(t+o).arc(o,o,0,!1,!0,t,e+r-o).verticalTo(e+o).arc(o,o,0,!1,!0,t+o,e):this.polygon([[t,e],[t+n,e],[t+n,e+r],[t,e+r]])}star(t,e,n,r,o=5){const i=Math.PI/o,s=[];for(let a=0;a<2*o;a++){const o=a%2==0?n:r,c=a*i-Math.PI/2;s.push([t+o*Math.cos(c),e+o*Math.sin(c)])}return this.polygon(s)}toString(){return this.commands.join(" ")}build(t={}){const e=this.toString();return X("PathBuilder generated:",e),w(e,t)}clear(){return this.commands=[],this}}class pt{constructor(){this.entries=[],this.duration=0,this.isPlaying=!1,this.currentTime=0}add(t,e,n,r={}){const{offset:o=this.duration,easing:i="ease",iterations:s=1,fill:a="forwards"}=r,c=M(`tl-${Date.now()}-${this.entries.length}`,n,i);return Object.entries(e).forEach(([t,e])=>{T(c,parseInt(t,10),e)}),this.entries.push({element:t,sequence:c,startTime:o,options:{iterations:s,fill:a}}),this.duration=Math.max(this.duration,o+n),this}stagger(t,e,n,r,o={}){return Array.from(t).forEach((t,i)=>{this.add(t,e,n,{...o,offset:this.duration+i*r})}),this}play(){return this.isPlaying?Promise.resolve():(this.isPlaying=!0,new Promise(t=>{this.entries.forEach(t=>{L(t.sequence),setTimeout(()=>{P(t.element,t.sequence,{delay:0,iterations:t.options.iterations,fill:t.options.fill})},t.startTime)}),setTimeout(()=>{this.isPlaying=!1,t()},this.duration)}))}reset(){return this.entries.forEach(t=>{t.element.style.animation="none",t.element.offsetHeight}),this.currentTime=0,this.isPlaying=!1,this}getDuration(){return this.duration}clear(){return this.entries=[],this.duration=0,this.currentTime=0,this.isPlaying=!1,this}}let gt={autoHydrate:!0,sceneSelector:"[data-c-scene]",layerSelector:"[data-c-layer]"};function yt(){document.querySelectorAll(gt.sceneSelector).forEach(t=>{const e=h(t);t.querySelectorAll(gt.layerSelector).forEach(t=>{const n=parseInt(t.dataset.cZ||"0",10);f(e,t,n)})})}function vt(){gt.autoHydrate&&yt()}"undefined"!=typeof document&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",vt):vt());const bt={hydrate:yt,configure:function(t){gt={...gt,...t}},init:vt,scene:n,svg:r,animation:o,filters:i,events:s,morph:a,scroll:c,textPath:u,input:l,path:function(){return new mt},timeline:function(){return new pt}};return e=e.default})());